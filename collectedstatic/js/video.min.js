function video(){return{init:function(e,c){var b={autoplay:false,endedfn:function(){},nextfn:function(){},volume:100,currentTime:0};if(c){b=this.extend({},c,b)}var d=document.getElementById(e);var a="<div class=video-js >"+d.outerHTML+'<div class=vjs-control-bar><div class=vjs-progress-control><div class=vjs-load-progress></div><div class=vjs-mouse-display></div><div class=vjs-play-progress><div  class="vjs-btn vjs-progress-btn"></div></div></div><div class=vjs-operation><div class="vjs-play vjs-icon"></div><div class="vjs-next vjs-icon"></div><div class=vjs-time><span class=currentTime></span>&nbsp;/&nbsp;<span class="vjs-tolal totalTime"></span></div><div class="vjs-fullscreen-control vjs-icon"></div><div class="vjs-setup vjs-icon"></div><div class="vjs-volume vjs-icon"><div class=vjs-volume-box><div class=vjs-san></div><div class=vjs-volume-tiao><div class=vjs-volume-dang><div  class="vjs-btn vjs-volume-btn"></div></div><div class=vjs-volume-bg></div></div></div></div><div class=vjs-format>ÇåÎú¶È</div></div></div></div>';d.parentNode.innerHTML=a;this.start(e,b)},start:function(c,a){var d=this;this.ovd=document.getElementById(c);var b=this.ovd.parentNode;this.obox=b;this.oPs=$V(".vjs-progress-control",b);this.oPplay=$V(".vjs-play-progress",b);this.oload=$V(".vjs-load-progress",b);this.obtn=$V(".vjs-progress-btn",b);this.odang=$V(".vjs-volume-dang",b);this.octime=$V(".currentTime",b);this.oplay=$V(".vjs-play",b);this.ototalTime=$V(".totalTime",b);this.otime=$V(".vjs-time",b);this.onext=$V(".vjs-next",b);this.ovolumebtn=$V(".vjs-volume-btn",b);this.oVtiao=$V(".vjs-volume-tiao",b);this.ofullscreen=$V(".vjs-fullscreen-control",b);this.obar=$V(".vjs-control-bar",b);this.progress();this.play();this.bufferedT();this.qunping();this.volumec();this.enter();if(a.volume>=0&&a.volume<=100){this.odang[0].setAttribute("time",100-a.volume);this.volume()}if(a.endedfn){this.ended(a.endedfn)}if(a.nextfn){this.next(a.nextfn)}if(a.autoplay){this.oplay[0].click()}if(a.currentTime){setTimeout(function(){d.ovd.currentTime=a.currentTime;d.wset(a.currentTime)},1000)}},bufferedT:function(){var b=this;var a=setInterval(function(){var c=b.ovd.duration;b.octime[0].innerHTML="00:00";b.ototalTime[0].innerHTML=b.timedecode(c);b.otime[0].style.display="inline-block";var d=b.ovd.buffered.end(0)||0;if(c==d){clearTimeout(a)}b.oload[0].style.width=(d/c)*100+"%"},2000)},play:function(){var b=this;var a=b.oplay;a.on("click",function(){b.ogospend()});this.ovd.onclick=function(){b.ogospend()}},ogospend:function(){var b=this;var a=b.oplay;if(a.hasClass(a[0],"vjs-suspend")){b.suspend();this.obar.removeClass("vjs-dn")}else{b.playGo();this.obar.addClass("vjs-dn")}},enter:function(){var a=this;document.onkeydown=function(c){var b=document.all?window.event:c;if(b.keyCode==32){a.ogospend()}}},next:function(a){this.onext.on("click",a)},ended:function(a){var b=this;this.ovd.onended=function(){b.ogospend();a()}},progress:function(){var g=this;var c=this.obtn;var f=this.oPs;var d=this.oPplay;var b=f[0].clientWidth;window.onresize=function(){b=f[0].clientWidth};var a=false;c.on("mousedown",function(h){a=true;clearTimeout(g.T)});var e=this.getOffset(this.ovd)[0];f.on("mousemove",function(j){var i=j.clientX-e;var h=Math.floor(i/b*g.ovd.duration);f[0].setAttribute("time",h);if(a){d[0].style.width=i+"px"}});f.on("mouseup",function(){a=false;g.vforward()})},volumec:function(){var d=this;var a=this.ovolumebtn;var b=this.oPplay;var c=false;a.on("mousedown",function(f){c=true});d.oVtiao.on("mousemove",function(g){var f=g.offsetY;if(g.target.className.indexOf("vjs-btn")>=0){var f=f+a[0].offsetTop}d.odang[0].setAttribute("time",f);if(c){d.volume()}});d.oVtiao.on("mouseup",function(){c=false;d.volume()})},volume:function(){var c=this;var b=c.odang[0].getAttribute("time");b=b>=0?b:0;this.ovd.volume=(100-b)/100;var a=b+"px";c.odang[0].style.height=a},qunping:function(){var a=this;document.addEventListener("fullscreenchange",function(){fullscreenState.innerHTML=(document.fullscreen)?"":"not "},false);document.addEventListener("mozfullscreenchange",function(){fullscreenState.innerHTML=(document.mozFullScreen)?"":"not "},false);document.addEventListener("msfullscreenchange",function(){fullscreenState.innerHTML=(document.msFullscreenElement)?"":"not "},false);a.ofullscreen.on("click",function(){if(a.ofullscreen.hasClass(this,"on")){a.fullscreenend()}else{a.fullscreen()}});a.obox.ondblclick=function(){if(a.ofullscreen.hasClass(a.ofullscreen[0],"on")){a.fullscreenend()}else{a.fullscreen()}}},fullscreen:function(){var b=this;b.ofullscreen.addClass("on");b.obox.style.position="fixed";b.obox.style.zIndex=10;var a=document.documentElement;if(a.requestFullscreen){a.requestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}}}}},fullscreenend:function(){var a=this;a.ofullscreen.removeClass("on");a.obox.style.position="relative";a.obox.style.zIndex=1;if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}},vforward:function(){var a=this;clearTimeout(a.T);setTimeout(function(){var d=a.oPs[0];var c=a.oPplay[0];var e=d.getAttribute("time");var b=(e/a.ovd.duration)*100+"%";a.ovd.currentTime=e;c.style.width=b;a.playGo()},0)},suspend:function(){var a=this;a.oplay.removeClass("vjs-suspend");clearTimeout(this.T);this.ovd.pause()},playGo:function(){var a=this;a.ovd.play();a.oplay.addClass("vjs-suspend");a.T=setInterval(function(){var d=a.oPs[0];var b=a.oPplay[0];var e=a.ovd.currentTime;var c=a.timedecode(e);a.wset(e);a.octime[0].innerHTML=c},1000)},wset:function(b){var c=this.ovd.duration;var a=(b/c*100)+"%";this.oPplay[0].style.width=a},timedecode:function(b){var c=Math.floor(b/60);var a=Math.floor(b%60);c=c>9?c:"0"+c;a=a>9?a:"0"+a;return c+":"+a},getOffset:function(d){var a=[];var c=0;var b=0;while(d!=window.document.body&&d!=null){c+=d.offsetLeft;b+=d.offsetTop;d=d.offsetParent}a.push(c,b);return a},extend:function(d,e,c){if(e instanceof Array){for(var b=0,a=e.length;b<a;b++){extend(d,e[b],c)}}for(var b in e){if(c||!(b in d)){d[b]=e[b]}}return d}}}var $V=function(a,b){function c(g,k){var k=k?k:document;var j=g.substr(1);var h=new Array();if(g.charAt(0)=="#"){h.push(document.getElementById(j))}else{if(g.charAt(0)=="."){var e=k.getElementsByTagName("*");var d=0;for(var f in e){if(e[f].nodeType==1){if(this.hasClass(e[f],j)){h[d]=e[f];d++}}}}}for(var f=0;f<h.length;f++){this[f]=h[f]}this.length=h.length;return this}c.prototype={on:function(e,f){for(var d=0;d<this.length;d++){if(this[d].addEventListener){this[d].addEventListener(e,f,false)}else{if(this[d].attachEvent){this[d].attachEvent("on"+e,f)}else{this[d]["on"+e]=f}}}},hasClass:function(e,d){return e.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))},addClass:function(d){for(var e=0;e<this.length;e++){if(!this.hasClass(this[e],d)){this[e].className+=" "+d}}},removeClass:function(d){for(var e=0;e<this.length;e++){if(this.hasClass(this[e],d)){var f=new RegExp("(\\s|^)"+d+"(\\s|$)");this[e].className=this[e].className.replace(f," ")}}}};return new c(a,b)};